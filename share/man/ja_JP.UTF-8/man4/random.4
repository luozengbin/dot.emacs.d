.\" Copyright (c) 1997 John S. Kallal (kallal@voicenet.com)
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" Some changes by tytso and aeb.
.\"
.\" 2004-12-16, John V. Belmonte/mtk, Updated init and quit scripts
.\" 2004-04-08, AEB, Improved description of read from /dev/urandom
.\" 2008-06-20, George Spelvin <linux@horizon.com>,
.\"             Matt Mackall <mpm@selenic.com>
.\"     Add a Usage subsection that recommends most users to use
.\"     /dev/urandom, and emphasizes parsimonious usage of /dev/random.
.\"
.\" Japanese Version Copyright (c) 1998
.\"           ISHIKAWA Mutsumi, all rights reserved.
.\" Translated into Japanese Mon Jan 12 03:20:27 JST 1998
.\"         by ISHIKAWA Mutsumi <ishikawa@linux.or.jp>
.\" Japanese Version Last Modified Thu Feb  5 21:08:33 JST 1998
.\"	by ISHIKAWA Mutsumi <ishikawa@linux.or.jp>
.\" Updated & Modified Sun Jun  6 14:48:03 JST 2004
.\"	by Yuichi SATO <ysato444@yahoo.co.jp>
.\" Updated & Modified Tue Jan 18 04:21:16 JST 2005 by Yuichi SATO
.\" Updated & Modified Fri Apr 22 03:44:01 JST 2005 by Yuichi SATO
.\" Updated 2008-08-13, Akihiro MOTOKI <amotoki@dd.iij4u.or.jp>, LDP v3.05
.\"
.\"WORD:	random generator	з®™жЋ©•йЃ•‚еђѕ‚СЃѓЌгѓхЂ‘Њѓи‹Ґ‚ї
.\"
.TH RANDOM 4 2010-08-29 "Linux" "Linux Programmer's Manual"
.SH еђЌе‰Ќ
random, urandom \- г‚хЂЏ®ѓи‹ҐѓЌгѓхЂЏЇжЃ’ж•йЃ•‚зґ”ѓи‹Ґ‚йґ»ѓ‡гѓђг‚г‚ѓ‚№
.SH иЊЇхЂ‘ЏЋ
(Linux 1.3.30 гЃ‹г‚‰жЏђз®ґ›гЃ•г‚ЊгЃхЂ€Ѓ„г‚‹) \fI/dev/random\fP гЂЃ
\fI/dev/urandom\fP г‚хЂ’ЄѓпЅѓѓхЂЊІ‚хЂ•¦‚еёҐ‚йґ»ѓљг‚жїЂѓпЅѓѓхЂЏ®ѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃЇ
г‚хЂЏ®ѓи‹ҐѓЌгѓхЂЏЇжЃ’ж•йЃ•‚еђѕ‚СЃѓЌгѓхЂ‘Њѓи‹Ґ‚еёҐЃеђѕЃхЂ”€‚г‚ѓѓжЅџ‚еёҐѓ•г‚СЃѓи‹Ґ‚йґ»‚’жЏђз®ґ›гЃ™г‚‹гЂ‚
\fI/dev/random\fP гѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃхЂ•¦ѓпјњ‚еђѕѓпЅѓѓи‹Ґѓ‡гѓђг‚г‚ѓ‚еђ€•хЂЋ’Џ· 1
гѓћг‚г‚ѓѓЉгѓи‹Ґѓ‡гѓђг‚г‚ѓ‚еђ€•хЂЋ’Џ· 8 гЃСЃЃ‚г‚‹гЂ‚
\fI/dev/urandom\fP гЃхЂ•¦ѓпјњ‚еђѕѓпЅѓѓи‹Ґѓ‡гѓђг‚г‚ѓ‚еђ€•хЂЋ’Џ· 1
гѓћг‚г‚ѓѓЉгѓи‹Ґѓ‡гѓђг‚г‚ѓ‚еђ€•хЂЋ’Џ· 9 гЃСЃЃ‚г‚‹гЂ‚
.LP
з®™жЋ©•йЃ•‚еђѕ‚СЃѓЌгѓхЂ‘Њѓи‹Ґ‚еёҐЃхЂ•¦ѓ‡гѓђг‚г‚ѓ‚йґ»ѓ‰гѓхЂЊІ‚г‚ѓѓђг‚„гЃќгЃхЂ”‰»–гЃхЂ”‹єђгЃ‹г‚‰гЃхЂ”Њ’еЊ»ўѓгѓЋг‚г‚ѓ‚е†ґ‚’
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃжЄЋ›†г‚Ѓг‚‹гЂ‚
гЃйљњЃџгЂЃг‚еђѕ‚СЃѓЌгѓхЂ‘Њѓи‹Ґ‚еёҐЃхЂ•¦‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ°†…гЃхЂ”€ѓЋг‚г‚ѓ‚е†ґЃхЂ”€ѓ“гѓѓгѓ€ж•йЃ•ЃхЂ”‹пЅЁзµЋљеЂг‚ѓ‚’
зЇ†ќжЊЃгЃ™г‚‹гЂ‚
гЃ“гЃхЂ”€‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®Ѓ‹г‚‰з®™жЋ©•йЃ•ЃЊз”џж€ђгЃ•г‚Њг‚‹гЂ‚
.LP
иЊЇхЂ’ЄЃзІ‹ж­гЃеёҐЃЊиЊµЊг‚Џг‚Њг‚‹гЃхЂ‹”ЂЃ
\fI/dev/random\fP
гѓ‡гѓђг‚г‚ѓ‚йґ»ЃхЂ•¦‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂ”€ѓЋг‚г‚ѓ‚е†ґѓ“гѓѓгѓ€гЃхЂ”‹•йЃ•ЃхЂ”‹пЅЁзµЋљеЂг‚ѓЃхЂ”€Ѓ†гЃпјњЂЃ
гѓхЂЊІѓжЅџѓЂгѓ гѓђг‚г‚ѓѓ€гЃхЂ”€ЃеёҐ‚’иЏґ”гЃ™гЂ‚
\fI/dev/random\fP гЃхЂ•¦ѓхЂ•¦ѓжЅџ‚еёҐ‚г‚ѓѓ гѓ‘гѓѓгѓ‰ (one-time pad) г‚„йЌжіЈЃхЂ”Њ”џж€ђгЃхЂ”€‚€гЃ†гЃЄ
йќћзµЅеђѕЃхЂЏґ«гЃ„е“ЃиЋ–хЂЋђ‚’жЊЃгЃпЅѓЃџз„пјћЅњз‚е єЂСЃЃЊз¶Ѕ…иЌЂЃгЃхЂЏ®ЃхЂЋђ‚‹з”хЂ‹љЂ”гЃхЂЏ°ђ‘гЃ„гЃхЂ€Ѓ„г‚‹гЃ г‚ЌгЃ†гЂ‚
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃЊи…Ґе†ґЃхЂ”‹™‚гЃхЂ•¦ЂЃ\fI/dev/random\fP гЃ‹г‚‰гЃхЂ”ЌхЂЌљгЃж°ґ‡е†ґЃ—гЃхЂ•¦ЂЃ
ж›зњјЃхЂЋђ‚‹з’еЊ»ўѓгѓЋг‚г‚ѓ‚е†ґЃЊз·‡—г‚‰г‚Њг‚‹гЃйљњЃСЃЂЃгѓ–гѓхЂ’Єѓѓг‚хЂ•¦Ѓ•г‚Њг‚‹гЂ‚
.LP
\fI/dev/urandom\fP гѓ‡гѓђг‚г‚ѓ‚йґ»Ѓ‹г‚‰иЊЇхЂ’ЄЃж°ґ‡е†ґЃ—гЃСЃЃхЂ•¦ЂЃ
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐЃЊг‚€г‚Љи•­гЃЏгЃхЂЋђ‚‹гЃхЂ”€‚’з·‡…гЃг‚ѓЃџг‚ЃгЃхЂ”€ѓ–гѓхЂ’Єѓѓг‚хЂ•¦ЃхЂ•«ЎЊг‚Џг‚ЊгЃхЂЋђЃ„гЂ‚
гЃќгЃхЂ”ЊµђжћњгЂЃг‚‚гЃ—г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂЏ°ЌЃе€†гЃхЂЋђ‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐЃЊзµ–ењхЂ‹”Ѓ—гЃхЂЋђЃ„е зї«ђ€гЂЃ
иЏґ”г‚ЉеЂг‚ѓЃхЂ•¦Ѓ“гЃхЂ”€ѓ‰гѓхЂЊІ‚г‚ѓѓђгЃС‚ж€Ћг‚Џг‚ЊгЃхЂ€Ѓ„г‚‹г‚в‰ЄѓхЂЏ®‚зњјѓхЂЋђ‚е†ґѓ гЃхЂЏ°џе†ґЃгѓЈЃЏжљ—еећЅ”зґ™’ѓгЃхЂЏ°хЂ•ЃгЃ—гЃхЂ€ЂЃ
иЊ«–зђ†зљ„гЃхЂЏ®ЃхЂ•Ёи­гЃЏгЃхЂЋђ‚‹гЃ“гЃхЂ‹”ЃхЂЏ®ЃхЂЋђ‚‹гЂ‚
гЃ“гЃхЂ”‹”зґ™’ѓг‚’гЃхЂЊІЃхЂ”€‚€гЃ†гЃхЂЏіЎЊгЃ†гЃ‹гЃхЂ‹”Ѓ„гЃ†зЇ‹‹гЃхЂЏ®Ѓг‚ѓЃ„гЃхЂ€ЃхЂ•¦ЂЃзж†њњхЂ‹ ”и…ҐеЊє«–ж–‡гЃхЂЋђЃхЂЊІЃ®
з¶µв‰ЄЃСѓ…гѓ¦‰‹гЃСЃЃЌг‚‹иЋ–‡ж–™гЃхЂ•¦ЃхЂЋђЃ„гЂЃгЃ—гЃ‹гЃ—гЂЃгЃќгЃхЂ”€‚€гЃ†гЃхЂЋ“”зґ™’ѓгЃхЂ•««–зђ†зљ„гЃхЂЏ°­ењхЂ‹–х€•«ѓзґ”ЃСЃЃ‚г‚‹гЂ‚
г‚‚гЃ—гЂЃгЃ“гЃхЂ”‰є‹гЃЊз¶Ѕѓй…ЌгЃхЂЋђ‚‰гЂЃ(\fI/dev/urandom\fP гЃСЃЃхЂ•¦ЃхЂЋђЃЏ)
\fI/dev/random\fP г‚’е€хЂЊ¶”хЂ‹”Ѓ™г‚ЊгЃйЃ•Ѓ„гЃ„гЂ‚
.SS зЇЏеёҐЃ„ж–№
.I /dev/random
гЃЁ
.I /dev/urandom
гЃхЂ”€ЃхЂЊІЃпјњ‚‰г‚’зЇЏеёҐЃ†гЃйґ»ЃЌгЃ‹иЏґжїЂЃпЅѓЃџе зї«ђ€гЂЃгЃџгЃ„гЃхЂ€Ѓ„гЃЇ
.I /dev/urandom
гЃхЂ”‹–йґ»‚’зЇЏеёҐЃ„гЃџгЃ„гЃхЂ‹—ЂќгЃпЅѓЃхЂ€Ѓ„г‚‹гЃхЂ•¦ЃљгЃ г‚ЌгЃ†гЂ‚
з­ќЂи€хЂ‘ЊЃхЂЏ®ЂЃй•е‚‘њџгЃхЂЏ±ж¤њгЃпЅѓЃхЂ€™ж€Ћг‚Џг‚Њг‚‹ GPG/SSL/SSH гЃхЂ”€‚хЂ’ЄѓеЇ‚жњ­зґЉ–гЃхЂ”Љ…хЂ‹”ЃхЂ€ЃхЂ”€‚‚гЃхЂ”€Ѓ«
.I /dev/urandom
г‚’зЇЏзќЎ”хЂ‹”Ѓ™гЃйґ»ЃЌгЃСЃЃ‚г‚‹гЂ‚

з­ќ‹иЌђгЃС„пЅЁзµ…хЂ‹”Ѓ—гЃхЂ€Ѓ„г‚‹г‚€гЃ†гЃхЂЏ°†ЌиЋЋжЎЃ‹•гЃхЂ”Љ‰Ќз·‡ЊгЃС‚жЃ’ж•дєҐв”Џгѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃЊзЇ†ќзµ–гЃ•г‚Њг‚‹е зї«ђ€
(е…хЂ‹”ЃхЂ€ЃхЂ”‰жєђгЃЄ Linux гЃхЂ”€ѓ‡г‚пЅѓ‚йґ»ѓ€гѓхЂЋђѓ“гѓгѓЈѓи‹Ґ‚жїЂѓСЃѓжЅџЃхЂ•Ё°‘гЃхЂЋђЃЏгЃхЂ‹”‚‚ 2000 з¶›еІ©жњ­й™ЌгЃЇ
з®™жЋ©•дєҐв”Џг‚’зЇ†ќзµ–гЃ™г‚‹г‚€гЃ†гЃхЂЏ®ЃхЂЋђЃпЅѓЃхЂ€Ѓ„г‚‹)гЂЃиЋЋжЎЃ‹•г‚жїЂѓи‹Ґ‚е®ґѓжЅџ‚йґ»ЃхЂЏ®ЃЉгЃ„гЃхЂ€™жЃ’ж•дєҐв”ЏгЃЊ
е†ЌгѓхЂ’Єѓи‹Ґѓ‰гЃ•г‚ЊгЃџз›зї«ѕЊгЃ‹г‚‰гЂЃгЃќгЃхЂ”Љ‡йЄЉ›гЃхЂ•¦ѓхЂ’Єѓи‹Ґ‚хЂЏ®ѓхЂЏ®ЃхЂ”€ѓхЂЏ®ѓи‹Ґѓ€г‚в‰Є‚хЂ•¦‚зҐ‰‚йґ»ЃЊгЃСЃЃЌгЃхЂЋђЃ„
ж”зґ™’ѓиЂ…гЃхЂЏ°хЂ•ЃгЃ—гЃхЂ€›љ—ееџ‡љ„гЃхЂЏ°®‰е…хЂ‹”ЃхЂЋђ‚‚гЃхЂ”€ЃхЂ‹”ЃхЂЋђ‚ЉгЂЃгѓЌгѓѓгѓ€гѓхЂ•¦ѓи‹Ґ‚хЂ•©љ—еећёЊ–гЃхЂ”€‚зҐ‰ѓѓг‚жїЂѓСЃѓжЅџ‚хЂ’Єѓј
гЃхЂ‹”Ѓ—гЃхЂ€™ж€ЋгЃ†гЃхЂЏ®ЃхЂ•Ё®Ње…хЂ‹”ЃхЂЏ±њЂйЃхЂЊІЃхЂЋђ‚‚гЃхЂ”€ЃхЂ‹”ЃхЂЋђ‚‹гЂ‚
.I /dev/random
гЃ‹г‚‰гЃхЂ”ЌхЂЌљгЃж°ґ‡е†ґЃ—гЃхЂ•ЁЃњзЅ©ў (block) гЃ™г‚‹ех€•«ѓй†‡ЂСЃЃЊгЃ‚г‚‹гЃхЂ”€ЃСЃЂЃгѓхЂ€ѓи‹Ґ‚еђџЃхЂ•©™хЂ”ЋЂљ
гЃ“гЃхЂ”€ѓ•г‚пјњ‚г‚ѓѓхЂЏ®‚’йќћеЃњзЅ©ў (nonblocking) гѓв‰Єѓи‹Ґѓ‰гЃС‡–‹гЃ“гЃ†гЃхЂ‹”Ѓ—
(г‚‚гЃ—гЃЏгЃхЂ•¦‚еёҐ‚г‚ѓѓ г‚в‰Є‚хЂ€ѓ€г‚’жЊ‡зµЋљгЃ—гЃхЂ€ќхЂЌљгЃж°ґ‡е†ґЃ—г‚’зµЋџиЊµЊгЃ—)гЂЃзµЅЊжњ›гЃ™г‚‹гѓхЂ‘Њѓ™гѓхЂЏ®Ѓ®
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐЃхЂ•¦Ѓ™гЃђгЃхЂЏ®ЃхЂ•Ё€хЂЊ¶”хЂ‹”ЃСЃЃЌгЃхЂЋђЃ„е зї«ђ€гЃхЂЏ®ЃхЂ•¦ЂЃзЇЏ•г‚‰гЃ‹гЃхЂ”ЋЂљзџгѓЈ‚’иЊµЊгЃ†гЃ“гЃхЂ‹”Ѓ г‚ЌгЃ†гЂ‚

г‚хЂЏ®ѓи‹ҐѓЌгѓхЂЏ®ЃхЂ”‰жЃ’ж•йЃ•‚еђѕ‚СЃѓЌгѓхЂ‘Њѓи‹Ґ‚еёҐЃхЂ•¦ЂЃжљ—ееџ‡–‘зЇЊеЇ‚жЃ’ж•йЃ•‚еђѕ‚СЃѓЌгѓхЂ‘Њѓи‹Ґ‚ї (Cryptographic
pseudo-random number generator; CPRNG) гЃхЂ”Њв”ЏгЃхЂ‹”Ѓ—гЃхЂ€™ж€Ћз”хЂ‹”ЃСЃЃЌг‚‹
и•­е“ЃиЋ–хЂЋђЃхЂЋ‘жЃ’ж•дєҐв”ЏгЃхЂ”‹ќђж–™г‚’зµЁ‘гЃ—з”џж€ђгЃ™г‚‹гЃџг‚ЃгЃхЂЏів”ѓиЌђ€гЃ•г‚ЊгЃхЂ€Ѓ„г‚‹гЂ‚
гЃ“г‚ЊгЃхЂ•¬Ђџз¶єхЂ€ЃСЃЃхЂ•¦ЃхЂЋђЃйЋ‰е…хЂ‹—ЂСЃ‚’й‡ЌиЌЂ–гЃ—гЃхЂ€ќв”ѓиЌђ€гЃ•г‚ЊгЃхЂ€ЃЉг‚ЉгЂЃ
гѓхЂЊІѓжЅџѓЂгѓ гЃхЂЋђѓ‡гѓи‹Ґ‚еёҐ‚’зґЉС‡‡ЏгЃхЂЏІ”џж€ђгЃ™г‚‹гЃхЂ”€ЃхЂЏ®ЃхЂ•Ё…хЂ‹”ЃЏг‚‚гЃпЅѓЃхЂ€ћЃхЂЊІЃ—гЃхЂ€Ѓ„гЃхЂЋђЃ„гЂ‚
гѓхЂ€ѓи‹Ґ‚еђџЃЇ
.I /dev/urandom
(гЃЁ
.IR /dev/random )
гЃ‹г‚‰иЊЇхЂ’ЄЃж°ґ‡е†ґЃ™з®™жЋ©•дєҐв”ЏгЃхЂ”‹ќђж–™гЃхЂ”Ћ‡Џг‚’гЃСЃЃЌг‚‹гЃ гЃ‘и†ЂЂи†Ј„гЃ™гЃйґ»ЃЌгЃСЃЃ‚г‚‹гЂ‚
гЃ“гЃхЂ”€ѓ‡гѓђг‚г‚ѓ‚йґ»Ѓ‹г‚‰з­ќЌз¶Ѕ…иЌЂЃгЃхЂЏ°гЃ‡й‡ЏгЃхЂ”€ѓ‡гѓи‹Ґ‚еёҐ‚’иЊЇхЂ’ЄЃж°ґ‡е†ґЃ™гЃхЂ‹”ЂЃгЃ“гЃхЂ”€ѓ‡гѓђг‚г‚ѓ‚йґ»‚’зЇЏеёҐЃ†
зЇЃ–гЃхЂ”€ѓхЂ€ѓи‹Ґ‚еђџЃхЂЏ®ѓћг‚г‚ѓѓЉг‚йґ»ЃхЂ”ЉиҐІйџеёҐ‚’з­ќЋгЃ€гЃхЂ€Ѓ—гЃйљњЃ†гЃ г‚ЌгЃ†гЂ‚

жљ—ееџЊЌжіЈ‚’з”џж€ђгЃ™г‚‹гЃхЂ”€ЃхЂЏ°ї…иЌЂЃгЃхЂЋ‘жЃ’ж•дєҐв”ЏгЃхЂ”‹ќђж–™гЃхЂ”Ћ‡ЏгЃхЂ•¦ЂЃйЌжіЈЃхЂ”Љ®џеЉйґ»‚жіЈ‚г‚ѓ‚е†ґЃхЂ‹–ђЊгЃгЃСЃЃ‚г‚‹гЂ‚
з®ґ‹гЃ€гЃйЃ•ЂЃ3072 гѓ“гѓѓгѓ€гЃ® RSA гЃЉг‚€гЃі Diffie-Hellman гЃхЂ”Њ§зµІ†йЌжіЈЃхЂ”Љ®џеЉйґ»‚жіЈ‚г‚ѓ‚е†ґЃЇ
128 гѓ“гѓѓгѓ€ (гЃ“гЃхЂ”Њ§зµІ†йЌжіЈ‚’з зњј‚‹гЃхЂЏ®ЃЇ 2^128 е›ћгЃхЂ”‹“ЌзЇЏњгЃЊз¶Ѕ…иЌЂЃгЃхЂ‹”Ѓ„гЃ†гЃ“гЃЁ) гЃСЃЃ‚г‚ЉгЂЃ
гЃќгЃхЂ”€Ѓџг‚ЃйЌзЄ®”џж€ђе™хЂ‹”ЃЊ
.I /dev/random
гЃ‹г‚‰иЊЇхЂ’ЄЃж°ґ‡е†ґЃ™з¶Ѕ…иЌЂЃгЃЊгЃ‚г‚‹з®™жЋ©•дєҐв”ЏгЃхЂ”‹ќђж–™гЃхЂ”Ћ‡ЏгЃЇ 128 гѓ“гѓѓгѓ€ (16 гѓђг‚г‚ѓѓ€) гЃ гЃ‘гЃСЃЃ‚г‚‹гЂ‚

CPRNG г‚в‰ЄѓхЂЏ®‚зњјѓхЂЋђ‚е†ґѓ гЃхЂ”‹¬ й™гѓЈЃхЂЏ°хЂ•ЃгЃ™г‚‹зЇ†ќиЊжїЂЃхЂ‹”Ѓ—гЃхЂ€ЂЃгЃ“гЃхЂ”‹њЂзµЁЏеЂг‚ѓЃхЂЏ°хЂ•ЃгЃ—гЃхЂ€Ѓ„гЃЏг‚‰гЃ‹гЃ®
зµЋ‰е…хЂ‹•ёЉгЃхЂ”€ѓћгѓи‹Ґ‚еђѕѓжЅџ‚’еЏ–г‚‹гЃхЂ”€ЃхЂ•¦‚‚гЃпЅѓЃхЂ‹”‚‚гЃ гЃЊгЂЃзж†њњхЂ‹–€хЂЊ¶”хЂ‹–х€•«ѓзґ”ЃхЂЋ“љ—еећ©ѓ—гѓхЂЋђѓџгѓ†г‚пЅѓѓ–гЃ§
256 гѓ“гѓѓгѓ€г‚€г‚ЉзґЉљгЃЏгЃхЂ”Љ®‰е…хЂ‹”ЃхЂЋ‘жЃ’ж•йЃ•‚’з¶Ѕ…иЌЂЃгЃхЂ‹”Ѓ™г‚‹г‚€гЃ†гЃхЂЋђ‚‚гЃхЂ”€ЃхЂ•¦ЃхЂЋђЃ„гЂ‚
иЋЋжЎЃ‹•гЃ™г‚‹з¶єхЂ€ЃхЂЏ®ЂЃг‚‚гЃ—гЃЏгЃхЂ•§жЃ’ж•дєҐв”Џг‚’зґЉ‰ж›зњјЃ™г‚‹зµ‹гѓҐЅ“гЃхЂЋ––“йљ” (1 е€†г‚€г‚ЉзџхЂ’ЄЃЏгЃхЂЋђ‚‹гЃ“гЃхЂ‹”ЃхЂ•¦ЃхЂЋђЃ„)
гЃхЂ”ЉеўѕгЃхЂЏ®ЂЃг‚хЂЏ®ѓи‹ҐѓЌгѓхЂЏ®ЃхЂ”‰жЃ’ж•йЃ•ѓ—гѓи‹ҐѓхЂЏ®Ѓ‹г‚‰ 256 гѓ“гѓѓгѓ€ (32 гѓђг‚г‚ѓѓ€) г‚€г‚ЉгЃџгЃЏгЃ•г‚“иЊЇхЂ’ЄЃж°ґ‡е†ґЃ™
г‚€гЃ†гЃхЂЋ’ зї«ђ€гЃхЂЏ®ЃхЂ•¦ЂЃгЃќгЃхЂ”€ѓ—гѓхЂ’Є‚йЃ•ѓхЂЊІѓ гЃхЂ”‹љ—еећё‡хЂ€њђ†гЃЊгЃ†гЃйљњЃйЋџиЊ–…гЃ•г‚ЊгЃхЂ€ЂЊгЃ„гЃхЂЋђЃ„гЂЌех€•«ѓй†‡ЂСЃЃЊ
гЃ‚г‚‹гЃхЂ‹™ЂѓгЃ€г‚‹гЃйґ»ЃЌгЃСЃЃ‚г‚ЌгЃ†гЂ‚
.SS иЌђхЂ’¬®љ
г‚жїЂ‚йґ»ѓ†гѓ гЃхЂЏ®Ѓ‚г‚‰гЃ‹гЃг‚ЃзЇЏњж€ђгЃ•г‚ЊгЃџ \fI/dev/random\fP гЃЁ
\fI/dev/urandom\fP гЃЊзµ–ењхЂ‹”Ѓ—гЃхЂЋђЃ„гЃхЂЋђ‚‰гЂЃзЅЁпјњЃхЂ”€‚€гЃ†гЃхЂЋђ‚жЅџѓћгѓжЅџѓ‰гЃС‚Ѕњж€ђгЃСЃЃЌг‚‹гЂ‚
.nf

    mknod \-m 644 /dev/random c 1 8
    mknod \-m 644 /dev/urandom c 1 9
    chown root:root /dev/random /dev/urandom
.fi

г‚хЂЋђѓљгѓхЂ‘Њѓи‹Ґ‚еёҐЃхЂ”‹“ЌзЇЏњгЃхЂЋђЃ—гЃ« Linux г‚жїЂ‚йґ»ѓ†гѓ гЃЊиЋЋжЎЃ‹•гЃ—гЃџз›зї«ѕЊгЃхЂ•¦ЂЃ
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂ•©„йЋЂ–жЂСЃЃхЂ”‰№ЏгЃ—гЃ„еќ‡з­ќЂгЃхЂЋ”ЉеЂ¶…‹гЃхЂЏ®Ѓ‚г‚‹гЃ г‚ЌгЃ†гЂ‚
гЃ“г‚ЊгЃхЂЏ®‚€г‚ЉгЂЃг‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂ”Љ®џйљ›гЃхЂ”€ѓЋг‚г‚ѓ‚е’І‡ЏгЃхЂ•«©•з®ґв‰¦Ђг‚ѓ‚€г‚ЉзµЁ‘гЃхЂЋђЃЏгЃхЂЋђ‚‹гЂ‚
гЃ“гЃхЂ”ЉЉеЏ·ћњг‚’ж‰“гЃв‰§¶€гЃ™гЃџг‚ЃгЃхЂЏ®ЂЃг‚жїЂѓпЅѓѓѓгѓ€гѓЂг‚хЂ€ѓжЅџЃ‹г‚‰ (зЅЁпјњЃ®) иЋЋжЎЃ‹•ж™‚гЃйљњЃС„ЊЃгЃв€ґ¶ЉгЃ—гЃџ
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂ”‹ѓ…е е®ґЃЊеЉхЂЊІЃ‘гЃхЂЏ®ЃхЂЋђ‚‹гЂ‚
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®‚’жЊЃгЃв€ґ¶ЉгЃ™гЃџг‚ЃгЃхЂЏ®ЃхЂ•¦ЂЃ
Linux г‚жїЂ‚йґ»ѓ†гѓ гЃхЂ”Ќе„Ђе‹•ж™‚гЃхЂЏ°®џиЊµЊгЃ•г‚Њг‚‹йЃхЂЊґ€‡гЃхЂЋђ‚йґ»‚хЂ•¦ѓхЂЋђѓ—гѓ€гЃхЂЏ®ЂЃ
зЇЃгѓ¤ё‹гЃхЂ”ЌЎЊг‚’иЏґйЃµЉ гЃ™г‚ЊгЃйЃ•‚€гЃ„:
.nf

    echo "Initializing random number generator..."
    random_seed=/var/run/random-seed
    # з®™жЋ©•дєҐв”Џг‚’зЇЃЉе›ћгЃхЂ”€‚йґ»‚еёҐѓи‹Ґѓ€г‚в‰Єѓѓгѓ—гЃ‹г‚‰зЅЁв‰¦›ћгЃхЂ”€‚йґ»‚еёҐѓи‹Ґѓ€г‚в‰Єѓѓгѓ—гЃйљњЃС„ЊЃгЃв€ґ¶ЉгЃ™гЂ‚
    # гѓхЂ’Єѓи‹Ґѓ‰г‚’иЊµЊгЃ„гЂЃгЃќгЃхЂ”ЉѕЊгЂЃе…хЂ‹”ЃхЂ€ЃхЂ”€‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®‚’зЇ†ќзµ–гЃ™г‚‹гЂ‚
    if [ \-f $random_seed ]; then
        cat $random_seed >/dev/urandom
    else
        touch $random_seed
    fi
    chmod 600 $random_seed
    poolfile=/proc/sys/kernel/random/poolsize
    [ \-r $poolfile ] && bytes=\`cat $poolfile\` || bytes=512
    dd if=/dev/urandom of=$random_seed count=1 bs=$bytes
.fi

гЃйљњЃџгЂЃLinux г‚жїЂ‚йґ»ѓ†гѓ гЃхЂ”€‚жїЂѓпЅѓѓѓгѓ€гѓЂг‚хЂ€ѓжЃ°™‚гЃхЂЏ°®џиЊµЊгЃ•г‚Њг‚‹йЃхЂЊґ€‡гЃхЂЋђ‚йґ»‚хЂ•¦ѓхЂЋђѓ—гѓ€гЃхЂЏ®ЂЃ
зЇЃгѓ¤ё‹гЃхЂ”ЌЎЊг‚’иЏґйЃµЉ гЃ™г‚ЊгЃйЃ•‚€гЃ„:
.nf

    # з®™жЋ©•дєҐв”Џг‚’зЇЃЉе›ћгЃхЂ”€‚жїЂѓпЅѓѓѓгѓ€гѓЂг‚хЂ€ѓжЅџЃ‹г‚‰зЅЁв‰¦›ћгЃхЂ”€‚йґ»‚еёҐѓи‹Ґѓ€г‚в‰Єѓѓгѓ—гЃйљњЃС„ЊЃгЃв€ґ¶ЉгЃ™гЂ‚
    # е…хЂ‹”ЃхЂ€ЃхЂ”€‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®‚’зЇ†ќзµ–гЃ™г‚‹гЂ‚
    echo "Saving random seed..."
    random_seed=/var/run/random-seed
    touch $random_seed
    chmod 600 $random_seed
    poolfile=/proc/sys/kernel/random/poolsize
    [ \-r $poolfile ] && bytes=\`cat $poolfile\` || bytes=512
    dd if=/dev/urandom of=$random_seed count=1 bs=$bytes
.fi
.SS "/proc г‚г‚ѓѓжЅџ‚еёҐѓ•г‚СЃѓи‹Ґ‚№"
гѓ‡г‚пЅѓѓхЂ‘Њ‚хЂ•¦ѓ€гѓЄ
.I /proc/sys/kernel/random
гЃхЂЏ®Ѓ‚г‚‹гѓ•г‚пјњ‚г‚ѓѓ« (2.3.16 гЃ‹г‚‰зµ–ењхЂ‹”Ѓ™г‚‹) гЃхЂ•¦ЂЃ
.I /dev/random
гѓ‡гѓђг‚г‚ѓ‚йґ»ЃеђѕЃхЂ”€ЃќгЃхЂ”‰»–гЃхЂ”€‚г‚ѓѓжЅџ‚еёҐѓ•г‚СЃѓи‹Ґ‚йґ»‚’жЏђз®ґ›гЃ™г‚‹гЂ‚
.LP
иЊЇхЂ’ЄЃзІ‹ж­гЃж°ґ°‚з”хЂ‹”ЃхЂ”€ѓ•г‚пјњ‚г‚ѓѓ«
.I entropy_avail
гЃхЂ•§ж€Ћз”хЂ‹–х€•«ѓзґ”ЃхЂЋђ‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹Ґ‚’иЊµхЂ‹”Ѓ™гЂ‚
йЂљзµЅеђѕЂЃгЃ“г‚ЊгЃЇ 4096 (гѓ“гѓѓгѓ€) гЃхЂЏ®ЃхЂЋђ‚ЉгЂЃг‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃЊзѕЈЂжќхЂ•¦ЃхЂ”ЊЉеЂ¶…‹гЃСЃЃ‚г‚‹гЂ‚
.LP
гѓ•г‚пјњ‚г‚ѓѓ«
.I poolsize
гЃхЂ•¦‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂ”€‚жіЈ‚г‚ѓ‚е†ґ‚’иЊµхЂ‹”Ѓ™гЂ‚
гЃ“гЃхЂ”€ѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃхЂ”‹„Џе‘жЅџЃхЂ•¦‚хЂЏ®ѓи‹ҐѓЌгѓхЂЏ®ѓђгѓи‹Ґ‚еђѕѓСЃѓжЅџЃхЂЏ®‚€г‚Љз•йЃ•ЃхЂЋђ‚‹гЂ‚
.RS
.TP 12
Linux 2.4:
гЃ“гЃхЂ”€ѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃхЂ•¦‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂ”€‚жіЈ‚г‚ѓ‚е†ґ‚’гЂЊгѓђг‚г‚ѓѓ€гЂЌеЌзЇЏЌгЃС†¦йЋљгЃ™г‚‹гЂ‚
йЂљзµЅеђѕЂЃгЃ“гЃхЂ”€ѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃхЂ”ЉЂг‚ѓЃЇ 512 гЃхЂЏ®ЃхЂЋђ‚‹гЃЊгЂЃж›еђѕЃЌиЋЁи‹ҐЃж°ґх€•«ѓзґ”ЃСЃЃ‚г‚ЉгЂЃ
г‚в‰ЄѓхЂЏ®‚зњјѓхЂЋђ‚е†ґѓ гЃСѓ€хЂЊ¶”хЂ‹–х€•«ѓзґ”ЃхЂЋ‘з®—ж„ЏгЃхЂ”ЉЂг‚ѓЃхЂЏ°¤‰ж›зњјЃСЃЃЌг‚‹гЂ‚
йЃеѕЎЉћех€•«ѓзґ”ЃхЂЋ’Ђг‚ѓЃЇ 32, 64, 128, 256, 512, 1024, 2048 гЃСЃЃ‚г‚‹гЂ‚
.TP
Linux 2.6:
гЃ“гЃхЂ”€ѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃхЂ•«хЂЌљгЃж°ґ‡е†ґЃ—зµЁ‚з”хЂ‹”ЃСЃЃ‚г‚ЉгЂЃ
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐѓзҐ‰ѓ—гѓи‹ҐѓхЂЏ®ЃхЂ”€‚жіЈ‚г‚ѓ‚е†ґ‚’гЂЊгѓ“гѓѓгѓ€гЂЌеЌзЇЏЌгЃС†¦йЋљгЃ™г‚‹гЂ‚
еЂг‚ѓЃЇ 4096 гЃСЃЃ‚г‚‹гЂ‚
.RE
.LP
гѓ•г‚пјњ‚г‚ѓѓ«
.I read_wakeup_threshold
гЃЇ
.I /dev/random
гЃ‹г‚‰гЃхЂ”€‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹Ґ‚’з·‡…гЃпЅѓЃхЂ€™ј‘зЅ©в‰ЄЃ—гЃхЂ€Ѓ„г‚‹гѓ—гѓхЂ’Є‚зҐ‰‚йґ»‚’иЋЋжїЂЃ“гЃ™гЃхЂ”€ЃхЂЏ°ї…иЌЂЃгЃЄ
г‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐЃхЂ”€ѓ“гѓѓгѓ€ж•йЃ•‚’зЇ†ќжЊЃгЃ—гЃхЂ€Ѓ„г‚‹гЂ‚
гѓ‡гѓ•г‚хЂЊІѓхЂЏ®ѓ€гЃЇ 64 гЃСЃЃ‚г‚‹гЂ‚
гѓ•г‚пјњ‚г‚ѓѓ«
.I write_wakeup_threshold
гЃхЂ•¦‚хЂ‹”ѓжЅџѓ€гѓхЂ’Єѓ”гѓи‹ҐЃхЂ”€ѓ“гѓѓгѓ€ж•йЃ•‚’зЇ†ќжЊЃгЃ—гЃхЂ€ЃЉг‚ЉгЂЃгЃ“гЃхЂ”ЉЂг‚„жњ­з­ќ‹гЃхЂЏ®ЃхЂЋђЃпЅѓЃџг‚‰
.I /dev/random
гЃеђѕЃхЂ”‹›еђѕЃЌиЋЁи‹ҐЃеёҐ‚в‰Є‚хЂ•¦‚зҐ‰‚йґ»ЃхЂ”€Ѓџг‚ЃгЃ«
.BR select (2)
гЃйљњЃџгЃЇ
.BR poll (2)
г‚’зµЋџиЊµЊгЃ™г‚‹гѓ—гѓхЂ’Є‚зҐ‰‚йґ»‚’иЋЋжїЂЃ“гЃ™гЂ‚
гЃ“гЃхЂ”ЉЂг‚ѓЃхЂ•¦ѓ•г‚пјњ‚г‚ѓѓхЂЏ®ЃхЂЏ±›еђѕЃЌиЋЁи‹ҐЃеёҐ‚’иЊµЊгЃ†гЃ“гЃхЂ‹”ЃхЂЏ®‚€гЃпЅѓЃхЂ€љ¤‰ж›зњјЃСЃЃЌг‚‹гЂ‚
.LP
иЊЇхЂ’ЄЃзІ‹ж­гЃж°ґ°‚з”хЂ‹”ЃхЂ”€ѓ•г‚пјњ‚г‚ѓѓ«
.I uuid
гЃЁ
.I boot_id
гЃЇ 6fd5a44b-35f4-4ad4-a9b9-6b9be13e1fe9 гЃхЂ”€‚€гЃ†гЃЄ
гѓхЂЊІѓжЅџѓЂгѓ гЃхЂЋ“–‡зµ–—е€—г‚’зЇ†ќжЊЃгЃ—гЃхЂ€Ѓ„г‚‹гЂ‚
е‰ЌиЂ…гЃхЂ•«хЂЌљгЃзІ‹ж­гЃеёҐЃхЂ”ЉеўѕгЃхЂЏ±–йЃ•ЃџгЃхЂЏІ”џж€ђгЃ•г‚ЊгЂЃ
з·‡ЊиЂ…гЃЇ 1 з¶єхЂ€Ѓ гЃ‘з”џж€ђгЃ•г‚Њг‚‹гЂ‚
.SH гѓ•г‚пјњ‚г‚ѓѓ«
/dev/random
.br
/dev/urandom
.\" .SH и‘—иЂ…
.\" г‚хЂЏ®ѓи‹ҐѓЌгѓхЂЏ®ѓзҐ‰ѓхЂЊІѓжЅџѓЂгѓ гѓЉгѓжЅџѓђгѓи‹ҐѓзҐ‰‚еђѕ‚СЃѓЌгѓхЂ‘Њѓи‹Ґ‚еёҐЃЇ Theodora Ts'o
.\" (tytso@athena.mit.edu) гЃхЂЏ®‚€гЃпЅѓЃхЂ€››еђѕЃ‹г‚ЊгЃџгЂ‚
.SH й–в€«ЂпЅ‰ …з›®
mknod (1)
.br
RFC\ 1750, "Randomness Recommendations for Security"
.\" .SH и†єи‚ўв”іиЂ…
.\" зџе–ќ·ќ зќ¦ <ishikawa@linux.or.jp>
