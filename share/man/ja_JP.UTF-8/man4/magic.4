.TH MAGIC 4 "Public Domain"
.\"
.\" Translated Wed Jan 12 23:14:34 JST 2000
.\"    by FUJIWARA Teruyoshi <fujiwara@linux.or.jp>
.\" Updated & Modified Sun Jan 14 22:02:13 JST 2001
.\"    by Yuichi SATO <sato@complex.eng.hokudai.ac.jp>
.\" Updated & Modified Sun May 25 17:08:32 JST 2003
.\"    by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.\" install as magic.4 on USG, magic.5 on V7 or Berkeley systems.
.SH 名前
magic \- file 潟潟吾潟若＜ゃ
.SH 茯
こニャ≪若吾с
.BR file (1)
潟潟 (バ若吾с 4.12) が篏睡る magic フ＜ゃ後を茯する。
フ＜ゃ┏蕁を茯帥鴻号蚊あるが、
.B file
潟潟＜ゃ劫の
\fI「マ吾潟ー (magic number)」\fR
у障かかｃ＜ゃ┏蕁を茘ャる。
フ＜ゃ
.I /usr/share/file/magic
ф絎するこ茯帥鴻鴻マ吾潟若
劫吾潟若荀ゃｃ時；腓冴る＜祉若吾
フ＜ゃら取り冴るそ宴сる。
.PP
magic フ＜ゃ茵с茵するテ鴻を指絎する。
テ鴻сフ＜ゃら荀劫祉ト篏臀るデ若帥
1 バゃ障は 2 バゃ、4 バゃ医ゃ文絖列莠が茵われる。
テ鴻が成功する絎した＜祉若吾阪される。
茵札筝障る:
.IP offset \w'message'u+2n
茯帥鴻デ若帥＜ゃс臀指絎する祉トゃс単篏ゃсる。
.IP type
茯帥鴻デ若帥。指絎сるゃ札筝りсる:
.RS
.IP byte \w'message'u+2n
1 バゃゃ
.IP short
(祉激鴻ムс) 2 バゃゃマ激潟ゃｃゃ順сる。
.IP long
(祉激鴻ムс) 4 バゃゃマ激潟ゃｃゃ順сる。
.IP string
文絖列を茵バゃ列。
string 型絎с激с潟て /[Bbc]* を緇ろけるこсる。
``B'' フ違絲乗院フ＜ゃ賢医純 1 個純り荅違宴。
こ翫、絲乗院フ＜ゃ 1 個純сる綽荀がある。
magic フ＜ゃ
.I n
個ｇした腥榊純ある翫、
絲乗院フ＜ゃこれッチする
.I n
個ｇした腥榊純綽荀。
``b''フ違絲乗院フ＜ゃ賢純
絖しよい腥榊純宴。
さら``c'' フ違紊ф絖糸文絖を阪ャマッチを茵うこ指絎する:
magic フ＜ゃ賢文絖
絲乗院フ＜ゃ賢ぇ文絖糸文絖検鴻ッチする。
しかし、magic フ＜ゃ賢ぇ文絖
絲乗院フ＜ゃ賢ぇ文絖帥ッチする。
.IP date
UNIX 時祉В釈される 4 バゃゃ
.IP ldate
UNIX 綵√祉В釈される 4 バゃゃ
ただし UTC с若帥ゃВ釈される。
.IP beshort
(祉激鴻ムс) 2 バゃゃバゃ順ッ違潟ｃ≪潟сる。
.IP belong
(祉激鴻ムс) 4 バゃゃバゃ順ッ違潟ｃ≪潟сる。
.IP bedate
(祉激鴻ムс) 4 バゃゃバゃ順ッ違潟ｃ≪潟сる。
UNIX 時祉В釈される。
.IP leshort
(祉激鴻ムс) 2 バゃゃバゃ順潟ｃ≪潟сる。
.IP lelong
(祉激鴻ムс) 4 バゃゃバゃ順潟ｃ≪潟сる。
.IP ledate
(祉激鴻ムс) 4 バゃゃバゃ順潟ｃ≪潟сる。
UNIX 時祉В釈される。
.IP leldate
(祉激鴻ムс) 4 バゃゃバゃ順潟ｃ≪潟сる。
UNIX 綵√祉В釈される。
ただし UTC с若帥ゃВ釈される。
.RE
.PP
医ゅゃ
.B &
医ゃ吾こсる。こ翫、罸莠を茵う前に
.B &
舟いた医ゃ AND 羲膊が茵われる。型に
.B u
を臀こс順綺鋌き莠を膃埇＜цうこ指絎сる。
.IP test
フ＜ゃゃ莠するゃ
これは C 荐茯絖列絎し、鴻宴若文絖も戎える
(箴: \en 壕文絖)。
.IP
医
絎茵する動篏を指絎する文絖を臀こсる。
.BR =
を指絎した翫フ＜ゃゃ絎したゃしくれ違。
.BR <
を指絎した翫フ＜ゃゃ絎したゃり絨さくれ違。
.BR >
を指絎した翫フ＜ゃゃ絎したゃり紊сくれ違。
.BR &
を指絎した翫指絎したゃхｃるットがフ＜ゃゃс
腴ｃれ違。
.BR ^
を指絎した翫指絎したゃхｃるットも、
フ＜ゃゃхｃ。
.BR x
ゃマッチする。文絖が省ャれる翫
.BR =
が指絎される帥れる。
.IP
医ゃ C 荐茯後ф絎する。箴え違
.B 13
は 10 我違
.B 013
は 8 我違
.B 0x13
は 16 我違сる。
.IP
文絖列翫、フ＜ゃ賢障るバゃ文絖列指絎された
バゃ文絖列ッチしれ違。
羲膊絖
.BR = ,
.BR < ,
.B >
絖列сる (ただし
.B &
с)。
マッチ潟違茵う激magic フ＜ゃ絖列綣違激сる。
ゃ障、
.B >\e0
を指絎するこり、ある茵を絖列マッチさせ、そし分
そ絖列を茵ずさせるこсるだろう。
.IP message
罸莠が成功した阪される＜祉若吾
文絖列に
.BR printf (3)
後指絎が障る翫、こ＜祉若吾後指絎文絖列戎ｃ
フ＜ゃ (指絎された鴻茵される) が阪される。
.PP
筝＜ゃ若ットсフ＜ゃ┏蕁申加情宴茵ずされる。
文絖
.B >
у障茵菴遵цうテ鴻；腓冴＜祉若吾腓冴。
1 茵障る
.B >
違鴻茵。
先
.B >
が茵ル 0 。
ル
.IB n \(pl1
茵magic フ＜ゃ賢цより前るル
.IB n
＜最も菴い篏臀九勝う。
ル
.I n
鴻が成功するそれくル
.IB n \(pl1
ф絎されるテ鴻が絎茵され、
そ鴻が成功する＜祉若吾阪される。
罨＜
.I n
があｃ贋с篏篋する。
翫の
.B >
翫絖が
.B (
違磁絖列･祉トゃВ釈される。
ゃ障、磁医＜ゃс祉ト戎われる。
こ祉ト篏臀るゃ茯粋昭障、
茯粋昭障たゃフ＜ゃ賢с祉ト戎われる。
間･祉トゃ後札筝сる:
.BI (( x [.[bslBSL]][+\-][ y ]).
.I x
ゃ＜ゃс祉トゃ戎われる。
そ祉ト篏臀る byte 型、short 型、long 型ゃ茯粋昭障るが、
か指絎絖
.B [bslBSL] 
ｃ浦障。
紊ф絖хずされる型ッ違潟ｃ≪潟ゃВ釈され、
絨文絖хずされる型潟ｃ≪潟ゃВ釈される。
こ違障
.I y
ゃえられ、そ果がフ＜ゃ賢祉トゃ戎われる。
篏も指絎され翫フは long сる。
.PP
前ｃ若激ｃ祉トゃ紊わるため、
罩ｇ∈祉トゃわから翫もある。
こ翫翫篏
フｃ若わりから後篏臀с祉トを指絎сる
(綵吟らこ号泣鴻、ゃ障
.B >
у障テ鴻сか篏帥)。
こう後祉トゃ祉トゃに
.B &
を臀こф絎する。
.SH バグ
.IR long ,
.IR belong ,
.IR lelong ,
.IR short ,
.IR beshort ,
.IR leshort ,
.IR date ,
.IR bedate ,
.I ledate
後激鴻ム箴絖сる。茘ャせるフ＜ゃ
こ激が違う激鴻ムから持ｃるこ紊いため、
バゃ列絎す鴻だろう (2B, 4B 膈)。
.PP
(憝鴻с) 間･祉トゃс潟ｃ≪潟指絎して
デ若帥宴こс。
.SH ∫ｉ目
.BR file (1)
\- こ＜ゃ茯潟潟。
.\"
.\" From: guy@sun.uucp (Guy Harris)
.\" Newsgroups: net.bugs.usg
.\" Subject: /etc/magic's format isn't well documented
.\" Message-ID: <2752@sun.uucp>
.\" Date: 3 Sep 85 08:19:07 GMT
.\" Organization: Sun Microsystems, Inc.
.\" Lines: 136
.\" 
.\" Here's a manual page for the format accepted by the "file" made by adding
.\" the changes I posted to the S5R2 version.
.\"
.\" Modified for Ian Darwin's version of the file command.
.\" @(#)$Id: magic.man,v 1.27 2003/09/12 19:43:30 christos Exp $
